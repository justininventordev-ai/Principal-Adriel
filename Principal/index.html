<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    
    <title>Interesante</title>
    <link rel="icon" type="Imagenes/png" href="Imagenes/Sabias.png">
    <meta name="theme-color" content="#000000">
    
    <!-- Tailwind CSS & FontAwesome -->
    <script src="https://cdn.tailwindcss.com"></script>
   
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

                 <!------ Meta data ------>
    <meta name="robots" content="index, interesante, Adriel, cosas utiles, plantillas, curiosidades, videos, imagenes">
    <meta name="description" content="Web sobre cosas muy iunteresantes y cosas utiles como plantillas.">
    <meta name="author" content="Adriel">
    <meta name="publisher" content="DevCenterX">
                 <!------ Meta data ------>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Orbitron:wght@500;700;900&family=Outfit:wght@300;400;600;800&family=Syncopate:wght@700&family=Creepster&family=Berkshire+Swash&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'dancing': ['"Dancing Script"', 'cursive'],
                        'orbitron': ['"Orbitron"', 'sans-serif'],
                        'sans': ['"Outfit"', 'sans-serif'],
                        'epic': ['"Syncopate"', 'sans-serif'],
                    },
                    colors: {
                        brand: { neon: 'var(--brand-color)' },
                        whatsapp: '#25D366',
                        whatsappDark: '#128C7E',
                    },
                    animation: {
                        'slide-up': 'slideUp 0.8s ease-out forwards',
                        'pulse-slow': 'pulse 4s infinite',
                        'fade-in-slow': 'fadeIn 1s ease-in-out',
                        'bounce-slow': 'bounce 2s infinite',
                    },
                    keyframes: {
                        slideUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } }
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            /* COLORES MODO OSCURO (Neón / Vibrante) */
            --brand-color: #39ff14;
            --text-main: #ffffff;
            --text-sub: #a3a3a3;
            --card-bg: rgba(21, 21, 21, 0.8);
            --card-border: #262626;
            --nav-bg: rgba(15, 15, 15, 0.85);
            --bg-overlay-color: rgba(0, 0, 0, 0.4); 
        }

        /* --- MODO CLARO (Light Mode) --- */
        body.light-mode {
            --text-main: #0f172a;
            --text-sub: #1e293b;
            --card-bg: rgba(255, 255, 255, 0.85);
            --card-border: #cbd5e1;
            --nav-bg: rgba(255, 255, 255, 0.85);
            --bg-overlay-color: rgba(255, 255, 255, 0.2);
        }

        /* PALETA ELEGANTE PARA MODO CLARO */
        body.light-mode.theme-jan { --brand-color: #059669; }
        body.light-mode.theme-feb { --brand-color: #be185d; }
        body.light-mode.theme-mar { --brand-color: #0d9488; }
        body.light-mode.theme-apr { --brand-color: #15803d; }
        body.light-mode.theme-may { --brand-color: #7e22ce; }
        body.light-mode.theme-jun { --brand-color: #b45309; }
        body.light-mode.theme-jul { --brand-color: #166534; }
        body.light-mode.theme-aug { --brand-color: #0891b2; }
        body.light-mode.theme-sep { --brand-color: #c2410c; }
        body.light-mode.theme-oct { --brand-color: #6b21a8; }
        body.light-mode.theme-nov { --brand-color: #0369a1; }
        body.light-mode.theme-dec { --brand-color: #1d4ed8; }

        .text-dynamic { color: var(--text-main); }
        .text-sub-dynamic { color: var(--text-sub); }
        
        body.light-mode .text-white { color: #0f172a !important; } 
        body.light-mode .text-gray-300, body.light-mode .text-gray-400, body.light-mode .text-gray-500 { color: var(--text-sub) !important; }
        
        .glass-nav { 
            background: var(--nav-bg); 
            border-bottom: 1px solid var(--card-border); 
            backdrop-filter: blur(10px);
        }
        
        footer { 
            background: transparent; 
            border-top: 1px solid var(--card-border); 
            position: relative;
            z-index: 10;
        }
        
        #bottom-dock { 
            background: var(--nav-bg); 
            border: 1px solid var(--card-border); 
            box-shadow: 0 4px 20px rgba(0,0,0,0.2); 
            backdrop-filter: blur(10px);
        }

        .mobile-card { 
            border-radius: 1rem; 
            border: 1px solid var(--card-border); 
            background: var(--card-bg); 
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        body:not(.light-mode) .mobile-card:hover { border-color: var(--brand-color); transform: translateY(-3px); }
        body.light-mode .mobile-card:hover { 
            border-color: var(--brand-color); 
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.08); 
            transform: translateY(-3px); 
        }
        
        body.light-mode .mobile-card .aspect-video { background-color: #000 !important; }
        body.light-mode .bg-black:not(.aspect-video), body.light-mode .bg-\[\#151515\] { background-color: var(--card-bg) !important; }
        body.light-mode .bg-\[\#1a1a1a\] { background-color: #f1f5f9 !important; border: 1px solid #e2e8f0; } 

        #info-modal, #mobile-menu-overlay, #secret-menu { background-color: var(--bg-overlay-color); backdrop-filter: blur(20px); }
        body.light-mode #mobile-menu-overlay .text-white, body.light-mode #secret-menu { color: var(--text-main) !important; }
        #secret-menu { border: 1px solid var(--card-border); }
        body.light-mode #secret-menu button { background: #f1f5f9; color: var(--text-main); border: 1px solid #cbd5e1; }
        body.light-mode #secret-menu button:hover { background: var(--brand-color); color: white; border-color: var(--brand-color); }

        /* Chips de Categoría */
        .category-chip { 
            border: 1px solid var(--card-border);
            color: var(--text-sub); 
            background: var(--card-bg); 
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        
        body:not(.light-mode) .category-chip:hover { 
            border-color: var(--brand-color); 
            color: var(--brand-color);
            background: rgba(255,255,255,0.05);
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }

        body.light-mode .category-chip {
            border-color: #cbd5e1;
            color: #475569;
            background: rgba(255,255,255,0.9);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        body.light-mode .category-chip:hover {
            border-color: var(--brand-color) !important;
            color: var(--brand-color) !important;
            background: #ffffff !important;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transform: translateY(-2px);
        }

        body.light-mode .bg-\[\#111\] { background-color: var(--card-bg) !important; border: 1px solid var(--card-border) !important; }
        body.light-mode #modal-body { color: var(--text-sub) !important; }
        body.light-mode .border-brand-neon\/30 { border-color: var(--card-border) !important; }

        /* Estilos Estacionales */
        body.theme-jan { --brand-color: #39ff14; }
        body.theme-feb { --brand-color: #ff0080; }
        body.theme-mar { --brand-color: #00ff9d; }
        body.theme-apr { --brand-color: #50c878; }
        body.theme-may { --brand-color: #b87aff; }
        body.theme-jun { --brand-color: #ffd700; }
        body.theme-jul { --brand-color: #00b300; }
        body.theme-aug { --brand-color: #00fa9a; }
        body.theme-sep { --brand-color: #ff5e00; }
        body.theme-oct { --brand-color: #9d00ff; }
        body.theme-nov { --brand-color: #98fb98; }
        body.theme-dec { --brand-color: #00dfff; }

        /* BLOQUEO DE SELECCIÓN Y ARRASTRE PARA SEGURIDAD */
        img, video {
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            user-drag: none;
            user-select: none;
            -webkit-user-select: none;
            pointer-events: auto; /* Permitir clicks para modal, pero no arrastrar */
        }

        body { 
            background-color: transparent; 
            color: var(--text-main); 
            transition: color 0.3s ease; 
            overflow-x: hidden; 
        }
        
        #bottom-dock { transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1); z-index: 9999; }
        #bottom-dock.hidden-dock { transform: translate(-50%, 200%); }

        .epic-section { 
            position: relative; 
            background: transparent; 
            padding-top: 2rem; 
            padding-bottom: 2rem; 
        }
        
        .play-overlay { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.3); pointer-events: none; }
        .play-icon { width: 50px; height: 50px; background: var(--brand-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: var(--brand-color); border-radius: 3px; }
        .loading-spinner { col-span-full: 1; text-align: center; padding: 3rem 0; width: 100%; grid-column: 1 / -1; }
        .tap-effect:active { transform: scale(0.98); }
        
        /* Fondo Global */
        #global-bg-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }

        #global-bg-image { 
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.5s ease-in-out;
            opacity: 0.9; 
        }

        #global-bg-overlay {
            position: absolute;
            inset: 0;
            background-color: var(--bg-overlay-color);
            transition: background-color 0.3s ease;
        }

        body.light-mode #global-bg-image {
            filter: contrast(1.1) saturate(1.1);
            opacity: 1 !important; 
        }
        
        h1, h2, h3, p, .text-dynamic, i { text-shadow: 0 2px 4px rgba(0,0,0,0.6); }
        body.light-mode h1, body.light-mode h2, body.light-mode h3, body.light-mode p, body.light-mode .text-dynamic, body.light-mode i { text-shadow: 0 2px 15px rgba(255,255,255,0.8), 0 0 5px rgba(255,255,255,0.5); }

        .cursor-zoom-in { cursor: zoom-in; }
    </style>
</head>
<body class="antialiased selection:bg-brand-neon selection:text-black transition-colors duration-300" oncontextmenu="return false;"> 
<!-- oncontextmenu="return false;" en body bloquea click derecho globalmente -->

    <!-- FONDO GLOBAL -->
    <div id="global-bg-container">
        <img id="global-bg-image" src="" alt="Fondo Estacional">
        <div id="global-bg-overlay"></div>
    </div>

    <!-- LÓGICA DE CARGA -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, getDocs, query } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        const firebaseConfig = { apiKey: "AIzaSyBF2GoCkpWo_gnggZjcSRjb062CPhUUEto", authDomain: "devcenter-15.firebaseapp.com", projectId: "devcenter-15", storageBucket: "devcenter-15.firebasestorage.app", messagingSenderId: "354151968683", appId: "1:354151968683:web:ffb17232a6843224f2ecee" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        window.allPosts = {}; 

        async function loadContent() {
            let posts = [];

            // 1. CARGAR DESDE FIREBASE (Existente)
            try {
                try { await signInAnonymously(auth); } catch(e) {}
                const q = query(collection(db, 'productos'));
                const snapshot = await getDocs(q);
                snapshot.forEach(doc => {
                    const data = doc.data();
                    data.id = doc.id;
                    data.categoria = (data.categoria || 'principal').toLowerCase().trim();
                    if (!data.tipo) data.tipo = (data.media_url && (data.media_url.includes('.mp4') || data.media_url.includes('/video/'))) ? 'video' : 'image';
                    posts.push(data);
                });
            } catch (e) {
                console.error("Error Firebase:", e);
                // No bloqueamos, seguimos intentando cargar el JSON local
            }

            // 2. CARGAR DESDE MANUAL.JSON (NUEVA FUNCIONALIDAD EXACTA)
            try {
                const response = await fetch('manual.json');
                if (response.ok) {
                    const manualData = await response.json();
                    manualData.forEach(item => {
                        // Mapeo EXACTO de tus claves en español a las variables internas
                        
                        // 1. Multimedia (Ruta del archivo o LINK de Dailymotion/Vidyard)
                        const mediaUrl = item["Multimedia"] || "";
                        
                        // Detectar tipo (video o imagen) INCLUYENDO LINKS EXTERNOS
                        // Aquí es donde detecto si pusiste un link de Dailymotion, Vidyard, etc.
                        const isVideo = mediaUrl.match(/\.(mp4|webm|mov)$/i) || 
                                        mediaUrl.includes('/video/') || 
                                        mediaUrl.includes('Videos/') ||
                                        mediaUrl.includes('dailymotion') ||
                                        mediaUrl.includes('vidyard') ||
                                        mediaUrl.includes('youtube') ||
                                        mediaUrl.includes('embed');
                        
                        posts.push({
                            // 2. Entrada (ID único)
                            id: item["Entrada"] ? item["Entrada"].toString() : Math.random().toString(36).substr(2, 9),
                            
                            // 3. Título
                            titulo: item["Título"] || "Sin Título",
                            
                            // 4. Categoría
                            categoria: (item["Categoría"] || "home").toLowerCase().trim(),
                            
                            // 5. Curiosidad
                            curiosidad: item["Curiosidad"] || "",
                            
                            // 6. Descripción
                            descripcion: item["Descripción"] || "",
                            
                            media_url: mediaUrl,
                            tipo: isVideo ? 'video' : 'image'
                        });
                    });
                    console.log("Datos manuales cargados exitosamente:", manualData.length);
                } else {
                    console.log("No se encontró manual.json (asegúrate de que esté en la misma carpeta)");
                }
            } catch (e) {
                console.log("Error cargando manual.json:", e);
            }

            renderPosts(posts);
        }

        function renderPosts(posts) {
            const containers = {
                'home': { video: 'grid-home-videos', visual: 'grid-home-visual' },
                'plantillas': { video: 'grid-plantillas-videos', visual: 'grid-plantillas-visual' },
                'animales': { video: 'grid-animales-videos', visual: 'grid-animales-visual' },
                'planeta': { video: 'grid-planeta-videos', visual: 'grid-planeta-visual' },
                'humanos': { video: 'grid-humanos-videos', visual: 'grid-humanos-visual' },
                'temporada': { video: 'grid-temporada-videos', visual: 'grid-temporada-visual' }
            };

            // Limpiar contenedores antes de renderizar
            Object.values(containers).forEach(c => {
                const v = document.getElementById(c.video);
                const i = document.getElementById(c.visual);
                if(v) v.innerHTML = '';
                if(i) i.innerHTML = '';
            });

            posts.forEach(post => {
                window.allPosts[post.id] = post;
                let catKey = post.categoria;
                if(catKey === 'principal') catKey = 'home';
                
                if (containers[catKey]) {
                    const containerId = post.tipo === 'video' ? containers[catKey].video : containers[catKey].visual;
                    const containerEl = document.getElementById(containerId);
                    
                    if (containerEl) {
                        let html = post.tipo === 'video' ? cardVideo(post) : cardImage(post);
                        containerEl.insertAdjacentHTML('beforeend', html);
                    }
                }
            });
        }

        // Función para renderizar CARD de Video (Maneja IFRAMES y MP4)
        function cardVideo(post) { 
            // Verificamos si es un link externo (Dailymotion/Vidyard) o un MP4 local
            const isEmbed = post.media_url.includes('dailymotion') || post.media_url.includes('vidyard') || post.media_url.includes('youtube') || post.media_url.includes('embed') || !post.media_url.includes('.mp4');
            
            let contentVideo;
            
            if (isEmbed) {
                // Es un link externo: Mostramos el iframe pero bloqueamos clicks para que abra el modal
                contentVideo = `
                    <div class="relative w-full h-full bg-black pointer-events-none">
                         <iframe 
                            src="${post.media_url}" 
                            class="w-full h-full object-cover opacity-80" 
                            frameborder="0"
                            allow="autoplay; fullscreen"
                            allowfullscreen
                         ></iframe>
                    </div>
                `;
            } else {
                // Es un archivo MP4 normal
                contentVideo = `<video src="${post.media_url}#t=1.0" class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity" preload="metadata" muted playsinline oncontextmenu="return false;"></video>`;
            }

            return `
                <div onclick="openPost('${post.id}')" class="mobile-card overflow-hidden group cursor-pointer tap-effect">
                    <div class="relative aspect-video w-full bg-black">
                        ${contentVideo}
                        <div class="play-overlay">
                            <div class="play-icon"><i class="fas fa-play text-black ml-1 text-2xl"></i></div>
                        </div>
                    </div>
                    <div class="p-5">
                        <h3 class="text-xl font-bold text-dynamic font-sans leading-tight mb-2 line-clamp-2">${post.titulo}</h3>
                    </div>
                </div>`; 
        }
        
        function cardImage(post) { 
            return `<div onclick="openPost('${post.id}')" class="mobile-card relative h-80 lg:h-[500px] overflow-hidden group cursor-pointer tap-effect"><img src="${post.media_url}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" onerror="this.src='https://via.placeholder.com/400'" oncontextmenu="return false;"><div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div><div class="absolute bottom-0 p-6"><h3 class="text-3xl font-dancing font-bold text-white leading-tight drop-shadow-lg">${post.titulo}</h3></div></div>`; 
        }

        loadContent();
        
        // Función de Descarga Segura y Robusta
        window.downloadMedia = async function(url, filename) {
            try {
                const response = await fetch(url, { mode: 'cors' });
                if (!response.ok) throw new Error('Fetch falló');
                const blob = await response.blob();
                const blobUrl = window.URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = blobUrl;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                
                setTimeout(() => {
                    window.URL.revokeObjectURL(blobUrl);
                    document.body.removeChild(a);
                }, 100);
            } catch (error) {
                console.warn("Descarga directa (Blob) falló, intentando fallback de enlace...", error);
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = url;
                a.download = filename;
                a.target = '_blank';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            }
        }
    </script>

    <!-- Menu Secreto -->
    <div id="secret-menu" class="fixed inset-0 z-[100] hidden flex-col items-center justify-center p-5 animate-fade-in text-dynamic">
        <h2 class="text-brand-neon font-orbitron text-2xl mb-6 uppercase tracking-widest text-center">Control Estacional</h2>
        <div class="grid grid-cols-3 gap-3 w-full max-w-md">
            <button onclick="forceTheme(0); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">ENE</button>
            <button onclick="forceTheme(1); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">FEB</button>
            <button onclick="forceTheme(2); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">MAR</button>
            <button onclick="forceTheme(3); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">ABR</button>
            <button onclick="forceTheme(4); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">MAY</button>
            <button onclick="forceTheme(5); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">JUN</button>
            <button onclick="forceTheme(6); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">JUL</button>
            <button onclick="forceTheme(7); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">AGO</button>
            <button onclick="forceTheme(8); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">SEP</button>
            <button onclick="forceTheme(9); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">OCT</button>
            <button onclick="forceTheme(10); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">NOV</button>
            <button onclick="forceTheme(11); toggleSecretMenu()" class="p-2 rounded text-xs font-bold">DIC</button>
        </div>
        <button onclick="toggleSecretMenu()" class="mt-8 text-sub-dynamic hover:text-dynamic underline text-sm">Cerrar</button>
    </div>

    <!-- Navbar con WhatsApp arriba -->
    <nav class="fixed w-full z-50 top-0 glass-nav h-14 lg:h-20 flex items-center justify-between px-5 transition-colors duration-300">
        <a href="#" onclick="navigateTo('home'); return false;" class="font-dancing text-xl lg:text-3xl font-bold text-dynamic tracking-wider">
            Interesante<span class="text-brand-neon text-3xl">.</span>
        </a>
        <div class="flex items-center gap-5">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="text-2xl text-whatsapp hover:text-whatsappDark hover:scale-110 transition-all">
                <i class="fab fa-whatsapp"></i>
            </a>
            <button id="menu-btn" onclick="toggleMenu()" class="text-xl text-brand-neon tap-effect p-2"><i class="fas fa-bars"></i></button>
        </div>
    </nav>

    <!-- Menú Móvil -->
    <div id="mobile-menu-overlay" class="fixed inset-0 z-[60] hidden flex flex-col items-center justify-center space-y-8 transition-transform duration-300 translate-x-full">
        <button onclick="toggleMenu()" class="absolute top-5 right-5 text-2xl text-dynamic hover:text-brand-neon p-4"><i class="fas fa-times"></i></button>
        <a href="#" onclick="navigateTo('home')" class="text-2xl font-epic text-dynamic hover:text-brand-neon transition-colors">INICIO</a>
        <a href="#" onclick="navigateTo('plantillas')" class="text-2xl font-epic text-brand-neon hover:text-dynamic transition-colors">PLANTILLAS</a>
        <a href="#" onclick="navigateTo('animales')" class="text-2xl font-epic text-dynamic hover:text-brand-neon transition-colors">ANIMALES</a>
        <a href="#" onclick="navigateTo('planeta')" class="text-2xl font-epic text-dynamic hover:text-brand-neon transition-colors">PLANETA</a>
        <a href="#" onclick="navigateTo('humanos')" class="text-2xl font-epic text-dynamic hover:text-brand-neon transition-colors">HUMANOS</a>
        <a href="#" onclick="navigateTo('temporada')" class="text-2xl font-epic text-dynamic hover:text-brand-neon transition-colors">TEMPORADA</a>
        
        <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="mt-8 flex items-center gap-3 px-6 py-3 bg-whatsapp text-white rounded-full font-orbitron text-sm font-bold tracking-widest hover:bg-whatsappDark transition-all">
            <i class="fab fa-whatsapp text-xl"></i> UNIRSE AL CANAL
        </a>
    </div>

    <!-- VISTA 1: HOME -->
    <main id="view-home" class="page-view pb-32 pt-14 lg:pt-20">
        <section class="relative h-[85vh] flex flex-col items-center justify-center overflow-hidden">
            <div class="relative z-10 text-center px-4 w-full">
                <p id="seasonal-subtitle" class="text-brand-neon font-orbitron text-[10px] sm:text-sm tracking-[0.3em] font-bold uppercase mb-4 animate-slide-up">
                </p>
                <h1 class="font-orbitron font-black text-2xl sm:text-6xl lg:text-8xl text-dynamic tracking-widest animate-slide-up break-words drop-shadow-2xl">INTERESANTE</h1>
                <div class="w-20 h-1 bg-brand-neon mx-auto my-6 rounded-full animate-slide-up"></div>
                
                <div class="flex items-center justify-center gap-10 mt-8 animate-slide-up">
                    <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="text-3xl text-whatsapp hover:text-whatsappDark hover:scale-125 transition-all" title="Canal Oficial">
                        <i class="fab fa-whatsapp"></i>
                    </a>
                    <button onclick="document.getElementById('videos-home').scrollIntoView({behavior:'smooth'})" class="text-2xl text-dynamic opacity-70 hover:opacity-100 transition-colors animate-bounce-slow">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <button onclick="toggleLightMode()" class="text-2xl text-yellow-400/80 hover:text-yellow-300 hover:scale-125 transition-all" title="Cambiar Tema">
                        <i class="fas fa-sun"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- SECCIÓN VIDEOS HOME -->
        <section id="videos-home" class="epic-section px-5 min-h-[50vh]">
            <div class="max-w-7xl mx-auto relative z-10">
                <h2 class="font-orbitron text-2xl md:text-3xl font-bold text-dynamic mb-8 border-l-4 border-brand-neon pl-4 flex items-center bg-black/20 backdrop-blur-sm rounded-r-lg py-2 inline-block">
                    VIDEOS <i class="fas fa-play-circle ml-3 text-brand-neon animate-pulse-slow"></i>
                </h2>
                <div id="grid-home-videos" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8">
                     <div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div>
                </div>
            </div>
        </section>

        <!-- SECCIÓN VISUAL HOME -->
        <section class="epic-section px-5 min-h-[50vh]">
            <div class="max-w-7xl mx-auto relative z-10">
                <h2 class="font-orbitron text-2xl md:text-3xl font-bold text-dynamic mb-8 flex justify-between items-center border-b border-brand-neon/30 pb-2 bg-black/20 backdrop-blur-sm px-4 rounded-t-lg">
                    VISUAL <i class="fas fa-eye text-brand-neon"></i>
                </h2>
                <div id="grid-home-visual" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8">
                    <div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div>
                </div>
            </div>
        </section>

        <div class="w-full flex justify-center py-12">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="flex items-center gap-3 text-whatsapp hover:text-whatsappDark font-orbitron text-xs font-bold tracking-[0.2em] border border-whatsapp/30 px-8 py-3 rounded-full hover:bg-whatsapp/10 transition-all group backdrop-blur-sm bg-black/30">
                <i class="fab fa-whatsapp text-lg group-hover:scale-110 transition-transform"></i> CANAL OFICIAL
            </a>
        </div>
    </main>

    <!-- VISTAS DE CATEGORÍA -->
    <main id="view-plantillas" class="page-view hidden pt-24 pb-32">
        <div class="px-5 mb-10"><h1 class="text-4xl md:text-6xl font-orbitron font-bold text-brand-neon text-center drop-shadow-lg">PLANTILLAS</h1></div>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VIDEOS</h2><div id="grid-plantillas-videos" class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VISUAL</h2><div id="grid-plantillas-visual" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        
        <div class="w-full flex justify-center py-12">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="flex items-center gap-3 text-whatsapp hover:text-whatsappDark font-orbitron text-xs font-bold tracking-[0.2em] border border-whatsapp/30 px-8 py-3 rounded-full hover:bg-whatsapp/10 transition-all group backdrop-blur-sm bg-black/30">
                <i class="fab fa-whatsapp text-lg group-hover:scale-110 transition-transform"></i> CANAL OFICIAL
            </a>
        </div>
    </main>

    <main id="view-animales" class="page-view hidden pt-24 pb-32">
        <div class="px-5 mb-10"><h1 class="text-4xl md:text-6xl font-orbitron font-bold text-dynamic text-center drop-shadow-lg">ANIMALES</h1></div>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VIDEOS</h2><div id="grid-animales-videos" class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VISUAL</h2><div id="grid-animales-visual" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        
        <div class="w-full flex justify-center py-12">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="flex items-center gap-3 text-whatsapp hover:text-whatsappDark font-orbitron text-xs font-bold tracking-[0.2em] border border-whatsapp/30 px-8 py-3 rounded-full hover:bg-whatsapp/10 transition-all group backdrop-blur-sm bg-black/30">
                <i class="fab fa-whatsapp text-lg group-hover:scale-110 transition-transform"></i> CANAL OFICIAL
            </a>
        </div>
    </main>

    <main id="view-planeta" class="page-view hidden pt-24 pb-32">
        <div class="px-5 mb-10"><h1 class="text-4xl md:text-6xl font-orbitron font-bold text-brand-neon text-center drop-shadow-lg">PLANETA</h1></div>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VIDEOS</h2><div id="grid-planeta-videos" class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VISUAL</h2><div id="grid-planeta-visual" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        
        <div class="w-full flex justify-center py-12">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="flex items-center gap-3 text-whatsapp hover:text-whatsappDark font-orbitron text-xs font-bold tracking-[0.2em] border border-whatsapp/30 px-8 py-3 rounded-full hover:bg-whatsapp/10 transition-all group backdrop-blur-sm bg-black/30">
                <i class="fab fa-whatsapp text-lg group-hover:scale-110 transition-transform"></i> CANAL OFICIAL
            </a>
        </div>
    </main>

    <main id="view-humanos" class="page-view hidden pt-24 pb-32">
        <div class="px-5 mb-10"><h1 class="text-4xl md:text-6xl font-orbitron font-bold text-dynamic text-center drop-shadow-lg">HUMANOS</h1></div>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VIDEOS</h2><div id="grid-humanos-videos" class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VISUAL</h2><div id="grid-humanos-visual" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        
        <div class="w-full flex justify-center py-12">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="flex items-center gap-3 text-whatsapp hover:text-whatsappDark font-orbitron text-xs font-bold tracking-[0.2em] border border-whatsapp/30 px-8 py-3 rounded-full hover:bg-whatsapp/10 transition-all group backdrop-blur-sm bg-black/30">
                <i class="fab fa-whatsapp text-lg group-hover:scale-110 transition-transform"></i> CANAL OFICIAL
            </a>
        </div>
    </main>

    <main id="view-temporada" class="page-view hidden pt-24 pb-32">
        <div class="px-5 mb-10"><h1 class="text-4xl md:text-6xl font-orbitron font-bold text-brand-neon text-center drop-shadow-lg">TEMPORADA</h1></div>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VIDEOS</h2><div id="grid-temporada-videos" class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        <section class="epic-section px-5"><div class="max-w-7xl mx-auto relative z-10"><h2 class="text-2xl font-bold text-dynamic mb-6 border-l-4 border-brand-neon pl-4 bg-black/20 inline-block pr-4 py-1 backdrop-blur-sm">VISUAL</h2><div id="grid-temporada-visual" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8"><div class="loading-spinner"><i class="fas fa-circle-notch fa-spin text-3xl text-brand-neon"></i></div></div></div></section>
        
        <div class="w-full flex justify-center py-12">
            <a href="https://whatsapp.com/channel/0029Vb784PP2ZjCuME7S3d3m" target="_blank" class="flex items-center gap-3 text-whatsapp hover:text-whatsappDark font-orbitron text-xs font-bold tracking-[0.2em] border border-whatsapp/30 px-8 py-3 rounded-full hover:bg-whatsapp/10 transition-all group backdrop-blur-sm bg-black/30">
                <i class="fab fa-whatsapp text-lg group-hover:scale-110 transition-transform"></i> CANAL OFICIAL
            </a>
        </div>
    </main>

    <!-- FOOTER FINAL -->
    <footer class="py-24 px-5 text-center transition-colors duration-300">
        <div class="max-w-5xl mx-auto">
            <h4 class="font-orbitron text-[10px] font-bold text-brand-neon tracking-[0.4em] mb-10 uppercase drop-shadow-md">Explorar Categorías</h4>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 mb-16">
                <button onclick="navigateTo('home')" class="category-chip py-3 px-4 rounded-xl text-xs font-orbitron font-bold tracking-wider tap-effect transition-all">INICIO</button>
                <button onclick="navigateTo('plantillas')" class="category-chip py-3 px-4 rounded-xl text-xs font-orbitron font-bold tracking-wider tap-effect transition-all">PLANTILLAS</button>
                <button onclick="navigateTo('animales')" class="category-chip py-3 px-4 rounded-xl text-xs font-orbitron font-bold tracking-wider tap-effect transition-all">ANIMALES</button>
                <button onclick="navigateTo('planeta')" class="category-chip py-3 px-4 rounded-xl text-xs font-orbitron font-bold tracking-wider tap-effect transition-all">PLANETA</button>
                <button onclick="navigateTo('humanos')" class="category-chip py-3 px-4 rounded-xl text-xs font-orbitron font-bold tracking-wider tap-effect transition-all">HUMANOS</button>
                <button onclick="navigateTo('temporada')" class="category-chip py-3 px-4 rounded-xl text-xs font-orbitron font-bold tracking-wider tap-effect transition-all">TEMPORADA</button>
            </div>
            <p class="text-sub-dynamic font-orbitron text-[9px] uppercase opacity-70">
                <span class="cursor-pointer select-none px-2 py-1 hover:text-brand-neon transition-colors" onclick="showCreator()">&copy;</span> 
                <span class="cursor-pointer hover:text-brand-neon font-bold px-1" onclick="toggleLightMode()" title="Cambiar Tema">2026</span> 
                <span class="cursor-pointer hover:text-brand-neon font-bold tracking-widest" onclick="toggleSecretMenu()" title="Seleccionar Mes">INTERESANTE.</span>
            </p>
        </div>
    </footer>

    <!-- DOCK FLOTANTE -->
    <div id="bottom-dock" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 rounded-2xl px-4 py-2 flex gap-5 md:gap-8 transition-all duration-300">
        <i id="dock-home" onclick="navigateTo('home')" class="fas fa-home text-xl cursor-pointer hover:scale-110 transition-all text-cyan-400" title="Inicio"></i>
        <i id="dock-plantillas" onclick="navigateTo('plantillas')" class="fas fa-file-alt text-xl cursor-pointer hover:scale-110 transition-all text-gray-500 hover:text-brand-neon" title="Plantillas"></i>
        <i id="dock-animales" onclick="navigateTo('animales')" class="fas fa-paw text-xl cursor-pointer hover:scale-110 transition-all text-gray-500 hover:text-brand-neon" title="Animales"></i>
        <i id="dock-planeta" onclick="navigateTo('planeta')" class="fas fa-globe-americas text-xl cursor-pointer hover:scale-110 transition-all text-gray-500 hover:text-brand-neon" title="Planeta"></i>
        <i id="dock-humanos" onclick="navigateTo('humanos')" class="fas fa-brain text-xl cursor-pointer hover:scale-110 transition-all text-gray-500 hover:text-brand-neon" title="Humanos"></i>
        <i id="dock-temporada" onclick="navigateTo('temporada')" class="fas fa-fire text-xl cursor-pointer hover:scale-110 transition-all text-orange-500" title="Temporada"></i>
    </div>

    <!-- MODAL (Detalle Post) -->
    <div id="info-modal" class="fixed inset-0 z-[100] hidden overflow-y-auto animate-fade-in">
        <button onclick="closeModal()" class="fixed top-6 right-6 z-[110] w-12 h-12 flex items-center justify-center rounded-full bg-black/80 border border-brand-neon text-brand-neon text-xl hover:bg-red-600 hover:border-red-600 hover:text-white transition-all duration-300 shadow-lg backdrop-blur-sm"><i class="fas fa-times"></i></button>
        <div class="min-h-screen pb-10">
            <div id="modal-media-wrapper" class="w-full flex items-center justify-center relative bg-black transition-all"></div>
            
            <!-- CONTENEDOR BOTÓN DESCARGA (Debajo de la imagen) -->
            <div id="modal-download-container" class="w-full flex justify-center mt-6 hidden z-50 relative"></div>

            <div class="max-w-5xl mx-auto px-6 mt-8 relative z-10">
                <div class="bg-[#111] rounded-3xl p-8 lg:p-12 border border-brand-neon/30 transition-all duration-300">
                    <div class="w-16 h-1 bg-brand-neon mx-auto rounded-full mb-8"></div>
                    <span id="modal-cat" class="text-brand-neon text-xs font-bold tracking-widest uppercase mb-3 block">CATEGORÍA</span>
                    <h2 id="modal-title" class="text-3xl lg:text-6xl font-bold font-dancing text-white mb-6 leading-tight">Título</h2>
                    <div id="modal-body" class="text-gray-300 text-lg leading-relaxed space-y-6 font-sans"></div>
                    <div class="mt-10 p-6 bg-black rounded-2xl border-l-4 border-brand-neon">
                        <p class="text-sm text-gray-400 italic flex gap-3"><i class="fas fa-lightbulb text-brand-neon text-xl mt-1"></i> <span id="modal-fact">Curiosidad...</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL PANTALLA COMPLETA (Para Doble Click) -->
    <div id="fullscreen-modal" class="fixed inset-0 z-[200] hidden bg-black flex items-center justify-center p-0" onclick="closeFullscreen()">
        <img id="fullscreen-img" src="" class="max-w-full max-h-full object-contain pointer-events-none" oncontextmenu="return false;">
        <button onclick="closeFullscreen()" class="absolute top-6 right-6 z-50 w-12 h-12 flex items-center justify-center rounded-full bg-black/50 text-white text-xl border border-white/20 hover:bg-white/20 transition-all backdrop-blur-sm"><i class="fas fa-times"></i></button>
    </div>

    <!-- UI Logic Scripts -->
    <script>
        window.openFullscreenImage = function(url) {
            const modal = document.getElementById('fullscreen-modal');
            const img = document.getElementById('fullscreen-img');
            img.src = url;
            modal.classList.remove('hidden');
        }

        window.closeFullscreen = function() {
            document.getElementById('fullscreen-modal').classList.add('hidden');
        }

        // Definición de Temas con Imágenes de Fondo Específicas (Rutas Locales)
        const themes = {
            0: { name: 'jan', class: 'theme-jan', icon: 'fa-cube', sub: 'Enero', bg: 'Imagenes/Enero.webp' },
            1: { name: 'feb', class: 'theme-feb', icon: 'fa-heart', sub: 'Febrero', bg: 'Imagenes/Febrero.webp' },
            2: { name: 'mar', class: 'theme-mar', icon: 'fa-seedling', sub: 'Marzo', bg: 'Imagenes/Marzo.webp' },
            3: { name: 'apr', class: 'theme-apr', icon: 'fa-frog', sub: 'Abril', bg: 'Imagenes/Abril.webp' },
            4: { name: 'may', class: 'theme-may', icon: 'fa-spa', sub: 'Mayo', bg: 'Imagenes/Mayo.webp' },
            5: { name: 'jun', class: 'theme-jun', icon: 'fa-sun', sub: 'Junio', bg: 'Imagenes/Junio.webp' },
            6: { name: 'jul', class: 'theme-jul', icon: 'fa-tree', sub: 'Julio', bg: 'Imagenes/Julio.webp' },
            7: { name: 'aug', class: 'theme-aug', icon: 'fa-leaf', sub: 'Agosto', bg: 'Imagenes/Agosto.webp' },
            8: { name: 'sep', class: 'theme-sep', icon: 'fa-wind', sub: 'Septiembre', bg: 'Imagenes/Septiembre.webp' },
            9: { name: 'oct', class: 'theme-oct', icon: 'fa-ghost', sub: 'Octubre', bg: 'Imagenes/Octubre.webp' },
            10: { name: 'nov', class: 'theme-nov', icon: 'fa-feather-alt', sub: 'Noviembre', bg: 'Imagenes/Noviembre.webp' },
            11: { name: 'dec', class: 'theme-dec', icon: 'fa-snowflake', sub: 'Diciembre', bg: 'Imagenes/Diciembre.webp' }
        };

        function applySeasonalTheme(monthIndex = null) {
            const date = new Date();
            const month = monthIndex !== null ? monthIndex : date.getMonth();
            const theme = themes[month];
            
            const isLight = document.body.classList.contains('light-mode');
            document.body.className = `antialiased selection:bg-brand-neon selection:text-black transition-colors duration-300 ${theme.class} ${isLight ? 'light-mode' : ''}`;
            
            const sub = document.getElementById('seasonal-subtitle');
            if(sub) sub.innerHTML = `<i class="fas ${theme.icon} mr-2 hidden lg:inline"></i> NO ES MAGIA NI CREENCIAS SIMPLEMENTE <i class="fas ${theme.icon} ml-2 hidden lg:inline"></i>`;

            const bgImg = document.getElementById('global-bg-image');
            if(bgImg && theme.bg) {
                if (bgImg.src !== theme.bg) {
                    bgImg.style.opacity = '0';
                    setTimeout(() => {
                        bgImg.src = theme.bg;
                        bgImg.onload = () => { 
                            bgImg.style.opacity = ''; 
                        }; 
                    }, 500);
                }
            }
        }

        function forceTheme(monthIndex) {
            applySeasonalTheme(monthIndex);
        }

        function toggleLightMode() {
            document.body.classList.toggle('light-mode');
            const isLight = document.body.classList.contains('light-mode');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
            const currentClass = document.body.className.match(/theme-[a-z]{3}/)[0];
            const monthKey = Object.keys(themes).find(key => themes[key].class === currentClass);
            applySeasonalTheme(parseInt(monthKey));
        }

        window.showCreator = function() {
            const alertBox = document.createElement('div');
            alertBox.className = 'fixed bottom-24 left-1/2 transform -translate-x-1/2 bg-black/90 border border-brand-neon text-white px-6 py-3 rounded-full z-[100] animate-slide-up font-orbitron text-xs tracking-widest flex items-center';
            alertBox.innerHTML = '<i class="fas fa-code mr-2 text-brand-neon"></i> Creado por <span class="font-bold text-brand-neon ml-1">DevCenterX</span>';
            document.body.appendChild(alertBox);
            setTimeout(() => alertBox.remove(), 3000);
        }

        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light-mode');
        } else if (savedTheme === 'dark') {
            document.body.classList.remove('light-mode');
        } else {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
                document.body.classList.add('light-mode');
            }
        }
        
        window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', event => {
            if (!localStorage.getItem('theme')) {
                if (event.matches) {
                    document.body.classList.add('light-mode');
                } else {
                    document.body.classList.remove('light-mode');
                }
                const currentClass = document.body.className.match(/theme-[a-z]{3}/)[0];
                const monthKey = Object.keys(themes).find(key => themes[key].class === currentClass);
                applySeasonalTheme(parseInt(monthKey));
            }
        });

        applySeasonalTheme();

        window.toggleSecretMenu = function() {
            const menu = document.getElementById('secret-menu');
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                menu.classList.add('flex');
            } else {
                menu.classList.add('hidden');
                menu.classList.remove('flex');
            }
        }

        let lastScroll = 0;
        window.navigateTo = function(viewId) {
            document.querySelectorAll('.page-view').forEach(el => el.classList.add('hidden'));
            const target = document.getElementById('view-' + viewId);
            if(target) target.classList.remove('hidden');
            window.scrollTo(0, 0);
            lastScroll = 0; 
            const dock = document.getElementById('bottom-dock');
            if (dock) dock.classList.remove('hidden-dock');
            const menu = document.getElementById('mobile-menu-overlay');
            if (menu) {
                menu.classList.add('translate-x-full');
                setTimeout(() => menu.classList.add('hidden'), 300);
            }
            updateDockColors(viewId);
        }

        function updateDockColors(activeId) {
            const icons = document.querySelectorAll('#bottom-dock i');
            icons.forEach(icon => {
                if(icon.id !== 'dock-temporada') {
                      icon.className = icon.className.replace(/text-(brand-neon|cyan-400|white)/g, ''); 
                      icon.classList.remove('scale-110');
                      icon.classList.add('text-gray-500');
                } else {
                    icon.classList.remove('scale-110');
                    icon.classList.remove('text-orange-400');
                    icon.classList.add('text-orange-500');
                }
            });

            const activeIcon = document.getElementById('dock-' + activeId);
            if(activeIcon) {
                if (activeId !== 'temporada') {
                    activeIcon.classList.remove('text-gray-500');
                }
                activeIcon.classList.add('scale-110');
                
                if (activeId === 'home') activeIcon.classList.add('text-cyan-400');
                else if (activeId === 'temporada') {
                      activeIcon.classList.remove('text-orange-500'); 
                      activeIcon.classList.add('text-orange-400');
                }
                else activeIcon.classList.add('text-brand-neon');
            }
        }

        window.toggleMenu = function() {
            const menu = document.getElementById('mobile-menu-overlay');
            if(!menu) return;
            if(menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                setTimeout(() => menu.classList.remove('translate-x-full'), 10);
            } else {
                menu.classList.add('translate-x-full');
                setTimeout(() => menu.classList.add('hidden'), 300);
            }
        }

        window.openPost = function(id) {
            const post = window.allPosts[id];
            if(!post) return;
            document.getElementById('modal-title').innerText = post.titulo;
            document.getElementById('modal-cat').innerText = post.categoria;
            document.getElementById('modal-body').innerHTML = `<p>${(post.descripcion || '').replace(/\n/g, '<br>')}</p>`;
            document.getElementById('modal-fact').innerText = post.curiosidad || '...';
            
            const mediaWrapper = document.getElementById('modal-media-wrapper');
            
            if(post.tipo === 'video') {
                mediaWrapper.className = "w-full aspect-video bg-black flex items-center justify-center relative rounded-b-3xl overflow-hidden mt-8 mb-4 border-y border-var(--card-border)";
                
                // DETECCIÓN DE IFRAME / LINK EXTERNO EN EL MODAL
                if (post.media_url.includes('dailymotion') || post.media_url.includes('vidyard') || post.media_url.includes('youtube') || post.media_url.includes('embed') || !post.media_url.includes('.mp4')) {
                     // Es un link externo (Dailymotion/Vidyard)
                    mediaWrapper.innerHTML = `
                        <iframe 
                            src="${post.media_url}" 
                            class="w-full h-full" 
                            frameborder="0"
                            allow="autoplay; fullscreen; picture-in-picture"
                            allowfullscreen
                        ></iframe>
                    `;
                } else {
                    // Es un archivo MP4 Local
                    mediaWrapper.innerHTML = `
                        <video controls autoplay class="relative z-10 w-full h-full max-h-[80vh] object-contain" oncontextmenu="return false;">
                            <source src="${post.media_url}" type="video/mp4">
                        </video>
                    `;
                }
                
            } else {
                mediaWrapper.className = "w-full flex items-center justify-center relative mt-6"; 
                mediaWrapper.innerHTML = `<img src="${post.media_url}" class="max-w-full max-h-[60vh] lg:max-h-[85vh] object-contain rounded-xl shadow-2xl cursor-zoom-in" ondblclick="openFullscreenImage('${post.media_url}')" oncontextmenu="return false;">`;
            }
            
            // Lógica para mostrar botón SOLO en Plantillas
            const dlContainer = document.getElementById('modal-download-container');
            if (post.categoria.toLowerCase() === 'plantillas') {
                dlContainer.classList.remove('hidden');
                dlContainer.innerHTML = `<button onclick="downloadMedia('${post.media_url}', 'Interesante_Plantilla_${post.id}.jpg')" class="bg-brand-neon text-black font-bold font-orbitron py-3 px-8 rounded-full shadow-[0_0_15px_var(--brand-color)] hover:scale-105 transition-transform flex items-center gap-2 animate-pulse-slow"><i class="fas fa-download"></i> DESCARGAR PLANTILLA</button>`;
            } else {
                dlContainer.classList.add('hidden');
                dlContainer.innerHTML = '';
            }

            document.getElementById('info-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            document.getElementById('bottom-dock').classList.add('hidden-dock');
        }

        window.closeModal = function() {
            document.getElementById('info-modal').classList.add('hidden');
            document.getElementById('modal-media-wrapper').innerHTML = '';
            document.body.style.overflow = '';
            
            document.getElementById('bottom-dock').classList.remove('hidden-dock');
        }
    </script>
</body>
</html>